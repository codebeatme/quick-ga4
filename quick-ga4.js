(()=>{
/*! Quick GA4 v1.0.7, CC-BY-NC-ND-4.0, learnscript.net/zh-hant/google-analytics/toolkits/quick-ga4/ */
"use strict";class c{static n=navigator;static d=document;static w=window;static t={};static i={};static h=(t,s)=>{var s=new g(s),[,e,,i]=s.l;const r=(e+s.rect.height)/i*100;c.i[t].forEach(t=>t(r))};static o=(t,s)=>c.i[t].push(s);static u=(s,e)=>{c.i[s]??=[];const i=c["t"];var t=new g(e);t.g("scroll",t=>{clearTimeout(i[s]),i[s]=setTimeout(c.h,200,s,e)}),ResizeObserver&&new ResizeObserver(()=>{clearTimeout(i[s]),i[s]=setTimeout(c.h,200,s,e)}).observe(t.element)};static get m(){return!/Android|webOS|iPhone|iPad|iPod/i.test(c.n.userAgent)}}class u{static _=(t,s=!1)=>{return null!=(s?sessionStorage:localStorage).getItem("cbm-"+t)};static getData=(t,s=null,e=!1)=>{var i=e?sessionStorage:localStorage,r="cbm-"+t,e=u._(t,e);return e||null==s||u.setData(t,s),[i.getItem(r),e]};static setData=(t,s,e=!1)=>{e=e?sessionStorage:localStorage;null!=s&&e.setItem("cbm-"+t,s.toString())};static p=(t,s=!1)=>{(s?sessionStorage:localStorage).removeItem("cbm-"+t)}}class g{get R(){return null==this.element}get S(){return this.element==c.d}get rect(){return this.R||this.S?null:this.element.getBoundingClientRect()}get l(){return this.R||this.S?null:[this.element.scrollLeft,this.element.scrollTop,this.element.scrollWidth,this.element.scrollHeight]}get text(){return this.R?null:this.element.textContent}set text(t){this.R||(this.element.textContent=t)}get URL(){var t=this.T("href");return URL.canParse(t)?new URL(t):null}M;get elements(){return this.M}set elements(t){(this.M=t)?[this.element]=t:this.element=void 0}constructor(t){"string"==typeof t?(this.element=document,this.find(t)):this.elements=[t]}find(t){return this.R||(this.elements=this.element.querySelectorAll(t)),this}N(t){return this.R||Array.from(this.elements).forEach(t),this}T(t,s=null){return this.R||this.S?null:(null!=s&&this.element.setAttribute(t,s),this.element.getAttribute(t))}g(s,e){return this.R||this.elements.forEach(t=>t.addEventListener(s,e)),this}}class v{static join=(t,s,e=!1)=>{if(s){var i=[];if(e)for(const r in s)i.push(encodeURIComponent(r)+"="+encodeURIComponent(s[r]));else for(const n in s)i.push(n+"="+s[n]);i.length&&(t+=(t.includes("?")?"&":"?")+i.join("&"))}return t}}class d{_p=Math.ceil(2147483647*Math.random());_s=1;k=!0;_et=0;D=0;q=[];P;get cid(){var[t]=u.getData(this.id+"-cid_v4",d.U()+"."+d.U());return t}set cid(t){u.setData(this.id+"-cid_v4",t)}get A(){return u._(this.id+"-cid_v4")}get sid(){var[t]=u.getData(this.id+"-sid_v4");return Number(t)}set sid(t){u.setData(this.id+"-sid_v4",t)}get L(){return u._(this.id+"-sid_v4")}get sct(){var[t]=u.getData(this.id+"-sct_v4",1);return Number(t)}set sct(t){u.setData(this.id+"-sct_v4",t)}get seg(){var[t]=u.getData(this.id+"-seg_v4",0);return Number(t)}set seg(t){u.setData(this.id+"-seg_v4",t)}get C(){var[t]=u.getData(this.id+"-lt_v4",d.U());return Number(t)}set C(t){u.setData(this.id+"-lt_v4",t)}get I(){var[t]=u.getData(this.id+"-spv_v4",0);return Number(t)}set I(t){u.setData(this.id+"-spv_v4",t),0==this.seg&&2<=t&&(this.seg=1)}get O(){var[t]=u.getData(this.id+"-sett_v4",0);return Number(t)}set O(t){u.setData(this.id+"-sett_v4",t),0==this.seg&&t>=1e3*this.$&&(this.seg=1)}constructor({id:t,url:s="https://www.google-analytics.com/g/collect",session:{timeout:e=1800,engagementMin:i=10,engagementType:r="focus"}={},event:{pageView:n="*",userEngagement:h="beforeunload",scroll:l="body",outbound:a=[],viewSearchResults:o="q,s,search,query,keyword",fileDownload:c="(?<=\\.)(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$"}={},trigger:{userEngagementMin:u=1,scrollPercentMin:g=90}={},debug:v=!1}={},d=null){this.id=d??t,this.url=s,this.V=e,this.$=i,this.j=r,this.trigger={userEngagementMin:u,scrollPercentMin:g},n=["navigate","reload","back_forward"].filter(t=>!RegExp(`(?<=\\^)\\b${t}\\b`).test(n)&&(n.includes("*")||RegExp(`\\b${t}\\b`).test(n))),o&&([d,t]=o.split("&"),o=[d?.split(",").map(t=>t.trim()),t?.split(",").map(t=>t.trim())]),this.event={pageView:n,userEngagement:h,scroll:l,outbound:a,viewSearchResults:o,fileDownload:c},this.debug=v,this.init()}static U=()=>Math.ceil(Date.now()/1e3);static H=()=>Math.ceil(c.w.performance.now());send=(t,s=!0,{B:e=null,a:i=null,outbound:r=null,F:n=null,G:h=null,J:l=null}={})=>{var a=d.U();a-this.C>this.V&&(u.p(this.id+"-sid_v4"),this.sct+=1,this.C=0,this.I=0,this.O=0,this.seg=0);const o={en:t};c.d.hidden||this.K(),o._et=this._et,this._et=0,this.A||(this.cid=d.U()+"."+d.U(),o._fv=1),this.L||(this.sid=d.U(),o._ss=1),this.k&&(this.k=!1,o._ee=1),this.C=a,"scroll"==t?o["epn.percent_scrolled"]=e??0:"page_view"==t?this.I++:"click"==t||"file_download"==t?(e=(a=new g(i)).URL,o["ep.link_id"]=a.T("id")??"",o["ep.link_url"]=e?.href??"",l?(o["W"]=a.text,o["ep.file_name"]=e?.pathname??"",o["ep.file_extension"]=l):r&&(o["ep.link_classes"]=a.T("class")??"",o["ep.link_domain"]=e?.hostname??"",o["ep.outbound"]=!0)):"view_search_results"==t&&(o["ep.search_term"]=n,h.forEach(t=>{var[t,s]=t;o["ep.q_"+t]=s}));i=v.join("",o,!0);this.q.push(1<i.length?i.substring(1):i),s?(clearTimeout(this.P),this.P=setTimeout(this.request,5e3)):this.request()};request=()=>{var t;c.n.sendBeacon&&this.q.length&&(t=d.H(),t={v:2,tid:this.id,_p:this._p,sr:screen.width+"x"+screen.height,ul:c.n.language.toLowerCase(),cid:this.cid,_s:this._s++,uamb:c.m?0:1,dl:location.origin+location.pathname,dt:c.d.title,sid:this.sid,sct:this.sct,tfd:t},c.d.referrer&&(t.dr=c.d.referrer),this.debug&&(t._dbg=1),t.seg=this.seg,t=v.join(this.url,t,!0),c.n.sendBeacon(t,this.q.join("\r\n")),this.q.length=0)};init=()=>{const{event:i,trigger:s}=this;var[t]=c.w.performance.getEntriesByType("navigation");if(i.pageView?.includes(t?.type)&&this.send("page_view",!1),"visible"==this.j?c.d.addEventListener("visibilitychange",t=>{c.d.hidden?this.K():this.D=d.H()}):"focus"==this.j&&(c.w.addEventListener("blur",t=>this.K()),c.w.addEventListener("focus",t=>this.D=d.H())),i.userEngagement&&c.w.addEventListener(i.userEngagement,t=>{d.H()>1e3*s.userEngagementMin&&this.send("user_engagement",!1)}),i.scroll&&(c.u("ga4",i.scroll),c.o("ga4",t=>{t>=s.scrollPercentMin&&(this.send("scroll",!0,{B:s.scrollPercentMin}),s.scrollPercentMin=Number.MAX_VALUE)})),new g("a").N(t=>{t=new g(t);const s=t.URL;if(s){if(i.fileDownload){const e=new RegExp(i.fileDownload).exec(s.href)?.[0];e&&t.g("click",t=>this.send("file_download",!0,{a:t.currentTarget,J:e}))}i.outbound&&s.hostname!=location.hostname&&!i.outbound.some(t=>new RegExp(t).test(s.hostname))&&t.g("click",t=>this.send("click",!0,{a:t.currentTarget,outbound:!0}))}}),i.viewSearchResults){var[t,e]=i.viewSearchResults;const r=new URL(location).searchParams;t=t?.find(t=>r.get(t));if(t){const n=[];e?.forEach(t=>{r.has(t)&&n.push([t,r.get(t)])}),this.send("view_search_results",!0,{F:r.get(t),G:n})}}};K=()=>{var t=d.H(),s=t-this.D;this._et+=s,this.O+=s,this.D=t}}function s(s){Array.isArray(s.id)?s.id.forEach(t=>new d(s,t)):new d(s)}function t(){var t=window.__GA4__;t&&(Array.isArray(t)?t.forEach(t=>s(t)):s(t))}t();
})();